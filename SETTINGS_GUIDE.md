# Flying Desktop 设置页面使用指南

## 打开设置页面

在Flying Desktop主界面中，按以下任一键打开设置：
- `Tab` 键
- 手柄 `Y` 键

## 设置选项

### 1. 分辨率设置
- **自动检测**: 使用系统当前分辨率（推荐）
- **1920×1080**: Full HD分辨率
- **1366×768**: HD分辨率
- **1280×720**: HD Ready分辨率
- **1024×768**: XGA分辨率
- **800×600**: SVGA分辨率

### 2. 语言设置
- **简体中文**: 默认语言
- **English**: 英文界面
- **日本語**: 日文界面（部分支持）

### 3. 字体设置
- **自动选择**: 系统自动选择最佳中文字体（推荐）
- **文泉驿正黑**: WenQuanYi Zen Hei字体
- **文泉驿微米黑**: WenQuanYi Micro Hei字体
- **Noto Sans CJK**: Google Noto字体
- **思源黑体**: Adobe Source Han Sans字体

### 4. 音效设置
- **启用**: 开启界面音效
- **禁用**: 关闭界面音效

## 操作方法

### 导航

**主菜单导航**：
- `↑` `↓`: 选择设置项
- `回车`: 进入选项选择
- `ESC`: 返回主界面

**下拉框操作**：
- `↑` `↓` 或 `←` `→`: 选择选项
- `回车`: 确认选择（自动保存）
- `ESC`: 取消选择

### 保存设置
- `Ctrl+S`: 手动保存设置
- 设置会自动保存到用户配置文件

## 设置文件位置

设置保存在以下位置：
```
~/.config/flying-desktop/config.json
```

## 故障排除

### 设置页面闪烁
- 已修复：优化了渲染逻辑，消除双重刷新
- 如果仍有问题，请重启程序

### 下拉框显示问题
- 已修复：下拉框现在显示在最上层
- 改进了视觉效果，添加了阴影和选中标记
- 支持上下键和左右键选择选项

### 设置不生效
1. 确认按了 `Ctrl+S` 保存设置
2. 重启Flying Desktop
3. 检查配置文件权限

### 字体设置无效
1. 确认系统已安装相应字体
2. 运行字体检查工具：`python check_fonts.py`
3. 使用"自动选择"选项

### 分辨率设置问题
1. 建议使用"自动检测"
2. 确认显示器支持所选分辨率
3. 重启程序使分辨率生效

## 高级配置

如需手动编辑配置文件：

```json
{
  "display": {
    "width": 1920,
    "height": 1080,
    "fullscreen": true
  },
  "ui": {
    "language": "zh_CN"
  },
  "desktop": {
    "font_path": "/usr/share/fonts/truetype/wqy/wqy-zenhei.ttc"
  },
  "audio": {
    "sound_effects": true,
    "volume": 0.5
  }
}
```

## 重置设置

如需重置所有设置：

```bash
rm ~/.config/flying-desktop/config.json
```

重启程序后将使用默认设置。